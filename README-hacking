-*- outline -*-

These notes intend to help people working on the checked-out sources.
These requirements do not apply when building from a distribution tarball.

* Requirements

We've opted to keep only the highest-level sources in the GIT repository.
This eases our maintenance burden, (fewer merges etc.), but imposes more
requirements on anyone wishing to build from the just-checked-out sources.
For example, you have to use the latest stable versions of the maintainer
tools we depend upon, including:

- Automake <http://www.gnu.org/software/automake/>
- Autoconf <http://www.gnu.org/software/autoconf/>
- Bison <http://www.gnu.org/software/bison/>
- Gettext <http://www.gnu.org/software/gettext/>
- Gperf <http://www.gnu.org/software/gperf/>
- Gzip <http://www.gnu.org/software/gzip/>
- Perl <http://www.cpan.org/>
- Rsync <http://samba.anu.edu.au/rsync/>
- Tar <http://www.gnu.org/software/tar/>

Valgrind <http://valgrind.org/> is also highly recommended, if
Valgrind supports your architecture.

Only building the initial full source tree will be a bit painful.
Later, a plain `git-pull && make' should be sufficient.

* LZMA

The coreutils build procedure can build distribution tarballs with the
LZMA compression scheme.  This feature is so new that it is not
supported by the latest version of Automake.  If you don't care about
building LZMA tarballs, you can manually remove the string "dist-lzma"
from configure.ac before bootstrapping.

If you do want to build LZMA tarballs, you'll need to make sure you
have the latest stable version of the LZMA Utils
<http://tukaani.org/lzma/>.  Also, you'll need a version of
Automake that supports the dist-lzma feature, which was added to
Automake on 2007-10-09 but is not yet available in a stable Automake
version.  So until Automake 1.11 comes out, you'll need to get the
bleeding-edge Automake version with a command like this:

	$ cvs -d sources.redhat.com:/cvs/automake co automake
	$ ./bootstrap
	$ ./configure
	$ make install

and build and install that version.

* First GIT checkout

Obviously, if you are reading these notes, you did manage to check out
this package from GIT.  The next step is to get other files needed to
build, which are extracted from other source packages:

	$ ./bootstrap

And there you are!  Just

	$ ./configure
	$ make
	$ make check

At this point, there should be no difference between your local copy,
and the GIT master copy:

	$ git-diff

should output no difference.

Enjoy!

-----

Copyright (C) 2002-2007 Free Software Foundation, Inc.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
